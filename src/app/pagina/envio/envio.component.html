<div class="container custom-container">
  <div class="card p-5 bg-light">
    <form #f="ngForm" (ngSubmit)="registrar()">
      <fieldset class="mb-4">
        <legend class="text-center text-primary mb-4">
          <div class="d-flex flex-column align-items-center">
            <i class="fas fa-home fa-3x background-color-"></i>
            Registrar Nuevo Domicilio de Envío
          </div>
        </legend>

        <div class="mb-4 row">
          <div class="col-form-control">
            <div class="input-group">
              <div class="input-group-text">
                <span class="input-group-text bg-light border-0 px-0">
                  <i class="fas fa-user fa-lg text-primary bg-light"></i>
                </span>
              </div>
              <input
                #nombreDestinatario="ngModel"
                class="form-control border-1 input-group-text bg-custom"
                [ngClass]="{
                  'is-invalid':
                    nombreDestinatario.invalid &&
                    (nombreDestinatario.dirty || nombreDestinatario.touched)
                }"
                type="text"
                id="nombreDestinatario"
                name="nombreDestinatario"
                [(ngModel)]="envio.nombreDestinatario"
                required
                placeholder="Ingresa el nombre del destinatario"
              />
              <div
                *ngIf="
                  nombreDestinatario.invalid &&
                  (nombreDestinatario.dirty || nombreDestinatario.touched)
                "
                class="invalid-feedback"
              >
                <div *ngIf="nombreDestinatario.errors?.['required']">
                  El nombre del destinatario es obligatorio.
                </div>
              </div>
            </div>
          </div>
        </div>

        <div class="mb-4 row">
          <div class="col-form-control">
            <div class="input-group">
              <div class="input-group-text">
                <span class="input-group-text bg-light border-0 px-0">
                  <i
                    class="fas fa-map-marker-alt fa-lg text-primary bg-light"
                  ></i>
                </span>
              </div>
              <input
                #direccionDestinatario="ngModel"
                class="form-control border-1 input-group-text bg-custom"
                [ngClass]="{
                  'is-invalid':
                    direccionDestinatario.invalid &&
                    (direccionDestinatario.dirty ||
                      direccionDestinatario.touched)
                }"
                type="text"
                id="direccionDestinatario"
                name="direccionDestinatario"
                [(ngModel)]="envio.direccionDestinatario"
                required
                placeholder="Ingresa la dirección del destinatario"
              />
              <div
                *ngIf="
                  direccionDestinatario.invalid &&
                  (direccionDestinatario.dirty || direccionDestinatario.touched)
                "
                class="invalid-feedback"
              >
                <div *ngIf="direccionDestinatario.errors?.['required']">
                  La dirección del destinatario es obligatoria.
                </div>
              </div>
            </div>
          </div>
        </div>

        <div class="mb-4 row">
          <div class="col-form-control">
            <div class="input-group">
              <div class="input-group-text">
                <span class="input-group-text bg-light border-0 px-0">
                  <i class="fas fa-phone fa-lg text-primary bg-light"></i>
                </span>
              </div>
              <input
                #telefonoDestinatario="ngModel"
                class="form-control border-1 input-group-text bg-custom"
                [ngClass]="{
                  'is-invalid':
                    telefonoDestinatario.invalid &&
                    (telefonoDestinatario.dirty || telefonoDestinatario.touched)
                }"
                type="text"
                id="telefonoDestinatario"
                name="telefonoDestinatario"
                [(ngModel)]="envio.telefonoDestinatario"
                required
                placeholder="Ingresa el teléfono del destinatario"
              />
              <div
                *ngIf="
                  telefonoDestinatario.invalid &&
                  (telefonoDestinatario.dirty || telefonoDestinatario.touched)
                "
                class="invalid-feedback"
              >
                <div *ngIf="telefonoDestinatario.errors?.['required']">
                  El teléfono del destinatario es obligatorio.
                </div>
              </div>
            </div>
          </div>
        </div>

        <div class="mb-4 row">
          <div class="col">
            <div class="input-group">
              <div class="input-group-text">
                <span class="input-group-text bg-light border-0 px-0">
                  <i class="fas fa-city fa-lg text-primary bg-light"></i>
                </span>
              </div>
              <div
                class="form-control border-1 input-group-text select-wrapper bg-custom"
              >
                <select
                  name="categoria"
                  [(ngModel)]="envio.ciudadEnvio"
                  required
                  class="form-select"
                >
                  <option value="" disabled selected style="color: #adcbef">
                    Seleccione la ciudad de envio
                  </option>
                  <option
                    [value]="i + 1"
                    *ngFor="let item of ciudades; index as i"
                  >
                    {{ item }}
                  </option>
                </select>
              </div>
            </div>
          </div>
        </div>

        <div class="text-center">
          <button type="submit" class="btn btn-primary" [disabled]="f.invalid">
            <i class="fa-solid fas fa-save fa-lg me-1"></i>
            Guardar
          </button>
        </div>
      </fieldset>
    </form>
  </div>
</div>
